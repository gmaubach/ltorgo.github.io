<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Introduction to R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/default.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">DMwR 2nd Edition</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-indent"></span>
     
    Contents
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Part I - R and Data Mining</li>
    <li>
      <a href="introR.html">Introduction to R</a>
    </li>
    <li>
      <a href="introDM.html">Introduction to Data Mining</a>
    </li>
    <li class="dropdown-header">Part II - Case Studies</li>
    <li>
      <a href="algae.html">Predicting Algae Blooms</a>
    </li>
    <li>
      <a href="stocks.html">Predicting Stock Market Returns</a>
    </li>
    <li>
      <a href="fraud.html">Detecting Fraudulent Transactions</a>
    </li>
    <li>
      <a href="bio.html">Classifying Micro Array Samples</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-code"></span>
     
    R Code
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Part I - R and Data Mining</li>
    <li>
      <a href="RintroR.html">Introduction to R</a>
    </li>
    <li>
      <a href="RintroDM.html">Introduction to Data Mining</a>
    </li>
    <li class="dropdown-header">Part II - Case Studies</li>
    <li>
      <a href="Ralgae.html">Predicting Algae Blooms</a>
    </li>
    <li>
      <a href="Rstocks.html">Predicting Stock Market Returns</a>
    </li>
    <li>
      <a href="Rfraud.html">Detecting Fraudulent Transactions</a>
    </li>
    <li>
      <a href="Rbio.html">Classifying Micro Array Samples</a>
    </li>
  </ul>
</li>
<li>
  <a href="datasets.html">
    <span class="fa fa-database"></span>
     
    Datasets
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">
    <span class="fa fa-info-circle"></span>
     
    Contact
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Introduction to R</h1>

</div>


<p>The following is a <a href="RCode/RintroR.R">script file</a> containing all R code of all sections in this chapter.</p>
<!-- intro2R.Rnw -->
<div id="starting-with" class="section level3">
<h3>Starting with </h3>
<pre class="r"><code>install.packages(&quot;RMySQL&quot;)</code></pre>
<pre class="r"><code>install.packages(&quot;DMwR2&quot;)</code></pre>
<pre class="r"><code>library(DMwR2)</code></pre>
<pre class="r"><code>installed.packages()</code></pre>
<pre class="r"><code>library()</code></pre>
<pre class="r"><code>old.packages()</code></pre>
<pre class="r"><code>update.packages()</code></pre>
<pre class="r"><code>RSiteSearch(&#39;neural networks&#39;)</code></pre>
</div>
<div id="managing-your-sessions" class="section level3">
<h3>Managing Your Sessions</h3>
<pre class="r"><code>source(&#39;mycode.R&#39;)</code></pre>
<pre class="r"><code>save(f,my.dataset,file=&#39;mysession.RData&#39;)</code></pre>
<pre class="r"><code>load(&#39;mysession.RData&#39;)</code></pre>
<pre class="r"><code>save.image()</code></pre>
<!-- basicInter.Rnw -->
</div>
<div id="basic-interaction-with-the-console" class="section level3">
<h3>Basic Interaction with the Console</h3>
<pre class="r"><code>4 + 3 / 5^2</code></pre>
<pre class="r"><code>rnorm(4, mean = 10, sd = 2)
mean(sample(1:10, 5))</code></pre>
<pre class="r"><code>plot(x=sample(1:10,5),y=sample(1:10,5),
     main=&quot;Five random points&quot;,xlab=&quot;X values&quot;,ylab=&quot;Y values&quot;)</code></pre>
<!-- objs.Rnw -->
</div>
<div id="objects-and-variables" class="section level3">
<h3>Objects and Variables</h3>
<pre class="r"><code>vat &lt;- 0.2</code></pre>
<pre class="r"><code>vat</code></pre>
<pre class="r"><code>y &lt;- 39
y
y &lt;- 43
y</code></pre>
<pre class="r"><code>z &lt;- 5
w &lt;- z^2
w
i &lt;- (z * 2 + 45)/2
i</code></pre>
<pre class="r"><code>ls()
rm(vat,y,z,w,i)</code></pre>
<!-- funcs.Rnw -->
</div>
<div id="functions" class="section level3">
<h3>Functions</h3>
<pre class="r"><code>max(4, 5, 6, 12, -4)</code></pre>
<pre class="r"><code>max(sample(1:100, 30))</code></pre>
<pre class="r"><code>exists(&quot;se&quot;)</code></pre>
<pre class="r"><code>se &lt;- function(x) {
   v &lt;- var(x)
   n &lt;- length(x)
   return(sqrt(v/n))
}</code></pre>
<pre class="r"><code>mySample &lt;- rnorm(100, mean=20, sd=4)
se(mySample)</code></pre>
<pre class="r"><code>convMeters &lt;- function(val, to=&quot;inch&quot;) {
    mult &lt;- switch(to,inch=39.3701,foot=3.28084,yard=1.09361,mile=0.000621371,NA)
    if (is.na(mult)) stop(&quot;Unknown target unit of length.&quot;)
    else return(val*mult)
}
convMeters(23,&quot;foot&quot;)
convMeters(40,&quot;inch&quot;)
convMeters(40)
convMeters(2.4,&quot;km&quot;)</code></pre>
<pre class="r"><code>convMeters(56.2,&quot;yard&quot;)</code></pre>
<pre class="r"><code>convMeters(to=&quot;yard&quot;,val=56.2)</code></pre>
<pre class="r"><code>convMeters(56.2,to=&quot;yard&quot;)</code></pre>
<pre class="r"><code>f(10,43.2,tol=0.25)</code></pre>
<!-- vectors.Rnw -->
</div>
<div id="vectors" class="section level3">
<h3>Vectors</h3>
<pre class="r"><code>v &lt;- c(4, 7, 23.5, 76.2, 80)
v
length(v)
mode(v)</code></pre>
<pre class="r"><code>v &lt;- c(4, 7, 23.5, 76.2, 80, &quot;rrt&quot;)
v
mode(v)</code></pre>
<pre class="r"><code>u &lt;- c(4, 6, NA, 2)
u
k &lt;- c(TRUE, FALSE, FALSE, NA, TRUE)
k</code></pre>
<pre class="r"><code>u[2]</code></pre>
<pre class="r"><code>k[4] &lt;- TRUE
k</code></pre>
<pre class="r"><code>x &lt;- vector()</code></pre>
<pre class="r"><code>x[3] &lt;- 45
x</code></pre>
<pre class="r"><code>length(x)
x[10]
x[5] &lt;- 4
x</code></pre>
<pre class="r"><code>v &lt;- c(45, 243, 78, 343, 445, 44, 56, 77)
v
v &lt;- c(v[5], v[7])
v</code></pre>
<!-- vectorization.Rnw -->
</div>
<div id="vectorization" class="section level3">
<h3>Vectorization</h3>
<pre class="r"><code>v &lt;- c(4, 7, 23.5, 76.2, 80)
sqrt(v)</code></pre>
<pre class="r"><code>v1 &lt;- c(4, 6, 87)
v2 &lt;- c(34, 32.4, 12)
v1 + v2</code></pre>
<pre class="r"><code>v1 &lt;- c(4, 6, 8, 24)
v2 &lt;- c(10, 2)
v1 + v2</code></pre>
<pre class="r"><code>v1 &lt;- c(4, 6, 8, 24)
v2 &lt;- c(10, 2, 4)
v1 + v2</code></pre>
<pre class="r"><code>v1 &lt;- c(4, 6, 8, 24)
2 * v1</code></pre>
<!-- factors.Rnw -->
</div>
<div id="factors" class="section level3">
<h3>Factors</h3>
<pre class="r"><code>g &lt;- c(&quot;f&quot;, &quot;m&quot;, &quot;m&quot;, &quot;m&quot;, &quot;f&quot;, &quot;m&quot;, &quot;f&quot;, &quot;m&quot;, &quot;f&quot;, &quot;f&quot;)
g</code></pre>
<pre class="r"><code>g &lt;- factor(g)
g</code></pre>
<pre class="r"><code>g[3]
g[3] == &quot;m&quot;</code></pre>
<pre class="r"><code>other.g &lt;- factor(c(&quot;m&quot;, &quot;m&quot;, &quot;m&quot;, &quot;m&quot;, &quot;m&quot;), levels = c(&quot;f&quot;,&quot;m&quot;))
other.g</code></pre>
<pre class="r"><code>table(g)
table(other.g)</code></pre>
<pre class="r"><code>a &lt;- factor(c(&#39;adult&#39;,&#39;adult&#39;,&#39;juvenile&#39;,&#39;juvenile&#39;,&#39;adult&#39;,
              &#39;adult&#39;,&#39;adult&#39;,&#39;juvenile&#39;,&#39;adult&#39;,&#39;juvenile&#39;))
table(a, g)</code></pre>
<pre class="r"><code>t &lt;- table(a, g)
margin.table(t, 1)
margin.table(t, 2)</code></pre>
<pre class="r"><code>prop.table(t, 1)
prop.table(t, 2)
prop.table(t)</code></pre>
<!-- seqs.Rnw -->
</div>
<div id="generating-sequences" class="section level3">
<h3>Generating Sequences</h3>
<pre class="r"><code>x &lt;- 1:100</code></pre>
<pre class="r"><code>10:15 - 1
10:(15 - 1)</code></pre>
<pre class="r"><code>5:0</code></pre>
<pre class="r"><code>seq(-4, 1, 0.5)</code></pre>
<pre class="r"><code>seq(from = 1, to = 5, length = 4)
seq(from = 1, to = 5, length = 2)
seq(length = 10, from = -2, by = 0.2)</code></pre>
<pre class="r"><code>rep(5, 10)
rep(&quot;hi&quot;, 3)
rep(1:2, 3)
rep(1:2, each = 3)</code></pre>
<pre class="r"><code>gl(3, 5)
gl(2, 5, labels = c(&quot;female&quot;, &quot;male&quot;))</code></pre>
<pre class="r"><code>rnorm(10)</code></pre>
<pre class="r"><code>rnorm(4, mean = 10, sd = 3)</code></pre>
<pre class="r"><code>rt(5, df = 10)</code></pre>
<!-- indexing.Rnw -->
</div>
<div id="sub-setting" class="section level3">
<h3>Sub-Setting</h3>
<pre class="r"><code>x &lt;- c(0, -3, 4, -1, 45, 90, -5)
x &gt; 0</code></pre>
<pre class="r"><code>x[x &gt; 0]</code></pre>
<pre class="r"><code>x[x &lt;= -2 | x &gt; 5]
x[x &gt; 40 &amp; x &lt; 100]</code></pre>
<pre class="r"><code>x[c(4, 6)]
x[1:3]
y &lt;- c(1, 4)
x[y]</code></pre>
<pre class="r"><code>x[-1]
x[-c(4, 6)]
x[-(1:3)]</code></pre>
<pre class="r"><code>pH &lt;- c(4.5, 7, 7.3, 8.2, 6.3)
names(pH) &lt;- c(&quot;area1&quot;, &quot;area2&quot;, &quot;mud&quot;, &quot;dam&quot;, &quot;middle&quot;)
pH</code></pre>
<pre class="r"><code>pH &lt;- c(area1 = 4.5, area2 = 7, mud = 7.3, dam = 8.2, middle = 6.3)</code></pre>
<pre class="r"><code>pH[&quot;mud&quot;]
pH[c(&quot;area1&quot;, &quot;dam&quot;)]</code></pre>
<!-- ma.Rnw -->
</div>
<div id="matrices-and-arrays" class="section level3">
<h3>Matrices and Arrays</h3>
<pre class="r"><code>m &lt;- c(45, 23, 66, 77, 33, 44, 56, 12, 78, 23)
m
dim(m) &lt;- c(2, 5)
m</code></pre>
<pre class="r"><code>m &lt;- matrix(c(45, 23, 66, 77, 33, 44, 56, 12, 78, 23), 2, 5)</code></pre>
<pre class="r"><code>m &lt;- matrix(c(45, 23, 66, 77, 33, 44, 56, 12, 78, 23), 2, 5, byrow = TRUE)</code></pre>
<pre class="r"><code>m[2, 3]</code></pre>
<pre class="r"><code>m[-2, 1]
m[1, -c(3, 5)]</code></pre>
<pre class="r"><code>m[1, ]
m[, 4]</code></pre>
<pre class="r"><code>m[1, , drop = FALSE]
m[, 4, drop = FALSE]</code></pre>
<pre class="r"><code>m1 &lt;- matrix(c(45, 23, 66, 77, 33, 44, 56, 12, 78, 23), 2, 5)
cbind(c(4, 76), m1[, 4])
m2 &lt;- matrix(rep(10, 20), 4, 5)
m2
m3 &lt;- rbind(m1[1, ], m2[3, ])
m3</code></pre>
<pre class="r"><code>results &lt;- matrix(c(10, 30, 40, 50, 43, 56, 21, 30), 2, 4, byrow = TRUE)
colnames(results) &lt;- c(&quot;1qrt&quot;, &quot;2qrt&quot;, &quot;3qrt&quot;, &quot;4qrt&quot;)
rownames(results) &lt;- c(&quot;store1&quot;, &quot;store2&quot;)
results
results[&quot;store1&quot;, ]
results[&quot;store2&quot;, c(&quot;1qrt&quot;, &quot;4qrt&quot;)]</code></pre>
<pre class="r"><code>a &lt;- array(1:24, dim = c(4, 3, 2))
a</code></pre>
<pre class="r"><code>a[1, 3, 2]
a[1, , 2]
a[4, 3, ]
a[c(2, 3), , -2]</code></pre>
<pre class="r"><code>m &lt;- matrix(c(45, 23, 66, 77, 33, 44, 56, 12, 78, 23), 2, 5)
m
m * 3
m1 &lt;- matrix(c(45, 23, 66, 77, 33, 44), 2, 3)
m1
m2 &lt;- matrix(c(12, 65, 32, 7, 4, 78), 2, 3)
m2
m1 + m2</code></pre>
<!-- lists.Rnw -->
</div>
<div id="lists" class="section level3">
<h3>Lists</h3>
<pre class="r"><code>my.lst &lt;- list(stud.id=34453, 
               stud.name=&quot;John&quot;, 
               stud.marks=c(14.3,12,15,19))</code></pre>
<pre class="r"><code>my.lst</code></pre>
<pre class="r"><code>my.lst[[1]]
my.lst[[3]]</code></pre>
<pre class="r"><code>my.lst[1]</code></pre>
<pre class="r"><code>mode(my.lst[1])
mode(my.lst[[1]])</code></pre>
<pre class="r"><code>my.lst$stud.id</code></pre>
<pre class="r"><code>names(my.lst)
names(my.lst) &lt;- c(&quot;id&quot;, &quot;name&quot;, &quot;marks&quot;)
my.lst</code></pre>
<pre class="r"><code>my.lst$parents.names &lt;- c(&quot;Ana&quot;, &quot;Mike&quot;)
my.lst</code></pre>
<pre class="r"><code>length(my.lst)</code></pre>
<pre class="r"><code>my.lst &lt;- my.lst[-5]</code></pre>
<pre class="r"><code>other &lt;- list(age = 19, sex = &quot;male&quot;)
lst &lt;- c(my.lst, other)
lst</code></pre>
<pre class="r"><code>unlist(my.lst)</code></pre>
<!-- df.Rnw -->
</div>
<div id="data-frames" class="section level3">
<h3>Data Frames</h3>
<pre class="r"><code>my.dataset &lt;- data.frame(site=c(&#39;A&#39;,&#39;B&#39;,&#39;A&#39;,&#39;A&#39;,&#39;B&#39;),
                         season=c(&#39;Winter&#39;,&#39;Summer&#39;,&#39;Summer&#39;,&#39;Spring&#39;,&#39;Fall&#39;),
                         pH = c(7.4,6.3,8.6,7.2,8.9))
my.dataset</code></pre>
<pre class="r"><code>my.dataset[3, 2]</code></pre>
<pre class="r"><code>my.dataset$pH
my.dataset[[&quot;site&quot;]]</code></pre>
<pre class="r"><code>my.dataset[my.dataset$pH &gt; 7, ]
my.dataset[my.dataset$site == &quot;A&quot;, &quot;pH&quot;]
my.dataset[my.dataset$season == &quot;Summer&quot;, c(&quot;site&quot;, &quot;pH&quot;)]</code></pre>
<pre class="r"><code>my.dataset[pH &gt; 7, ]</code></pre>
<pre class="r"><code>attach(my.dataset)
my.dataset[site==&#39;B&#39;, ]
season</code></pre>
<pre class="r"><code>detach(my.dataset)
season</code></pre>
<pre class="r"><code>subset(my.dataset, pH &gt; 8)
subset(my.dataset, season == &quot;Summer&quot;, season:pH)</code></pre>
<pre class="r"><code>my.dataset[my.dataset$season == &#39;Summer&#39;,&#39;pH&#39;] &lt;- 
      my.dataset[my.dataset$season == &#39;Summer&#39;,&#39;pH&#39;] + 1</code></pre>
<pre class="r"><code>my.dataset$NO3 &lt;- c(234.5, 256.6, 654.1, 356.7, 776.4)
my.dataset</code></pre>
<pre class="r"><code>nrow(my.dataset)
ncol(my.dataset)
dim(my.dataset)</code></pre>
<pre class="r"><code>my.dataset &lt;- edit(my.dataset)</code></pre>
<pre class="r"><code>new.data &lt;- edit(data.frame())</code></pre>
<pre class="r"><code>names(my.dataset)
names(my.dataset) &lt;- c(&quot;area&quot;, &quot;season&quot;, &quot;pH&quot;, &quot;NO3&quot;)
my.dataset</code></pre>
<pre class="r"><code>names(my.dataset)[4] &lt;- &quot;PO4&quot;
my.dataset</code></pre>
<!-- dft.Rnw -->
</div>
<div id="useful-extensions-to-data-frames" class="section level3">
<h3>Useful Extensions to Data Frames</h3>
<pre class="r"><code>dat &lt;- tibble(TempCels = sample(-10:40, size=100, replace=TRUE), 
              TempFahr = TempCels*9/5 + 32,
              Location = rep(letters[1:2], each=50))
dat</code></pre>
<pre class="r"><code>data(iris)
dim(iris)
class(iris)</code></pre>
<pre class="r"><code>library(tibble)
ir &lt;- as_tibble(iris)
class(ir)
ir</code></pre>
<pre class="r"><code>print(ir, n=Inf, width=Inf)</code></pre>
<pre class="r"><code>iris[1:15, &quot;Petal.Length&quot;]
class(iris[1:15, &quot;Petal.Length&quot;])</code></pre>
<pre class="r"><code>ir[1:15, &quot;Petal.Length&quot;]</code></pre>
<pre class="r"><code>ir$Petal.Length[1:15]
ir[[&quot;Petal.Length&quot;]][1:15]</code></pre>
<pre class="r"><code>select(filter(ir,Species==&quot;setosa&quot;),Petal.Width,Petal.Length)</code></pre>
<pre class="r"><code>filter(ir,Species == &quot;setosa&quot;) %&gt;% select(Petal.Width,Petal.Length)</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
